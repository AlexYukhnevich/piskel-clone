!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,d=[],u=n(4);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=c++;n=l||(l=g(e)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return p(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&p(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var y,x=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},,function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},,,,,,,function(t,e,n){var r;t.exports=function t(e,n,o){function i(s,l){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(a(n=this._events[t]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!o(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,a,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){var r,o,i,a,s;s=navigator.userAgent.toLowerCase(),a=navigator.platform.toLowerCase(),r=s.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],i="ie"===r[1]&&document.documentMode,(o={name:"version"===r[1]?r[3]:r[1],version:i||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:s.match(/ip(?:ad|od|hone)/)?"ios":(s.match(/(?:webos|android)/)||a.match(/mac|win|linux/)||["other"])[0]}})[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.platform[o.platform.name]=!0,e.exports=o},{}],3:[function(t,e,n){var r,o,i,a={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},l=[].slice;r=t("events").EventEmitter,i=t("./browser.coffee"),o=function(t){var e,n;function r(t){var n,r,o;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t),e)o=e[r],null==(n=this.options)[r]&&(n[r]=o)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,t),e={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&("width"===t||"height"===t))return this._canvas[t]=e},r.prototype.setOptions=function(t){var e,n,r;for(e in n=[],t)a.call(t,e)&&(r=t[e],n.push(this.setOption(e,r)));return n},r.prototype.addFrame=function(t,e){var r,o;for(o in null==e&&(e={}),(r={}).transparent=this.options.transparent,n)r[o]=e[o]||n[o];if(null==this.options.width&&this.setOption("width",t.width),null==this.options.height&&this.setOption("height",t.height),"undefined"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)r.data=t.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?r.data=this.getContextData(t):r.context=t;else{if(null==t.childNodes)throw new Error("Invalid image");e.copy?r.data=this.getImageData(t):r.image=t}return this.frames.push(r)},r.prototype.render=function(){var t,e,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var t,e,n;for(n=[],t=0,e=this.frames.length;0<=e?t<e:t>e;0<=e?++t:--t)n.push(null);return n}.call(this),e=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(t=0,n=e;0<=n?t<n:t>n;0<=n?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var t;null!=(t=this.activeWorkers.shift());)this.log("killing active worker"),t.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var t,e,n,r;return t=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=e=this.freeWorkers.length;e<=t?r<t:r>t;e<=t?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(t){var e;return r.log("spawning worker "+t),(e=new Worker(r.options.workerScript)).onmessage=function(t){return r.activeWorkers.splice(r.activeWorkers.indexOf(e),1),r.freeWorkers.push(e),r.frameFinished(t.data)},r.freeWorkers.push(e)})),t},r.prototype.frameFinished=function(t){var e,n;if(this.log("frame "+t.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t,!0===this.options.globalPalette&&(this.options.globalPalette=t.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(e=1,n=this.freeWorkers.length;1<=n?e<n:e>n;1<=n?++e:--e)this.renderNextFrame();return s.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var t,e,n,r,o,i,a,s,l,c,d,u,p,h,f,m;for(s=0,h=this.imageParts,o=0,l=h.length;o<l;o++)e=h[o],s+=(e.data.length-1)*e.pageSize+e.cursor;for(s+=e.pageSize-e.cursor,this.log("rendering finished - filesize "+Math.round(s/1e3)+"kb"),t=new Uint8Array(s),u=0,f=this.imageParts,i=0,c=f.length;i<c;i++)for(e=f[i],m=e.data,n=a=0,d=m.length;a<d;n=++a)p=m[n],t.set(p,u),n===e.data.length-1?u+=e.cursor:u+=e.pageSize;return r=new Blob([t],{type:"image/gif"}),this.emit("finished",r,t)},r.prototype.renderNextFrame=function(){var t,e,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),e=this.getTask(t),this.log("starting frame "+(e.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(e)},r.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(e=this._canvas.getContext("2d")).setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},r.prototype.getTask=function(t){var e,n;if(e=this.frames.indexOf(t),n={index:e,last:e===this.frames.length-1,delay:t.delay,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===i.name},null!=t.data)n.data=t.data;else if(null!=t.context)n.data=this.getContextData(t.context);else{if(null==t.image)throw new Error("Invalid frame");n.data=this.getImageData(t.image)}return n},r.prototype.log=function(){var t;if(t=1<=arguments.length?l.call(arguments,0):[],this.options.debug)return console.log.apply(console,t)},r}(r),e.exports=o},{"./browser.coffee":2,events:1}]},{},[3])(3)},,,,function(t,e,n){var r=n(16);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2),o=r(n(17)),i=r(n(18)),a=r(n(19)),s=r(n(20)),l=r(n(21)),c=r(n(22)),d=r(n(23)),u=r(n(24)),p=r(n(25));e.push([t.i,"* {\n\tbox-sizing: border-box;\n}\n\n:root {\n\t--active-color: #FFD700;\n  --static-color: #C4C4C4;\n  --header-background: #2D2D2D;\n  --words-color: #888888;\n  --toolbar-color: #3A3A3A;\n  --body-background: #1D1D1D;\n  --height-canvas: calc(100vh - 60px);\n  --height-popup:  calc(100vh * 0.75);\n}\n\nbody {\n  font-family: sans-serif;\n  background-color: var(--body-background);\n  margin: 0;\n  overflow-y: hidden;\n}\n\n#wrapper {\n\tposition: relative;\n\tmax-width: 1440px;\n\theight: 100vh;\n\tmargin: 0 auto;\n}\n/* Loading-Page */\n.loading {\n  display: flex;\n  justify-content: center;\n  color: #cccccc;\n  font-size: 25px;\n  align-items: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 999;\n  background-color: var(--body-background);\n}\n.non-active {\n  display: none;\n}\n/*HEADER*/\n.header {\n\tposition: relative;\n\tdisplay: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  background-color: var(--header-background);\n}\n.title-logo {\n  font-size: 30px;\n  color: #ffffff;\n  text-transform: uppercase;\n  padding: 0;\n  margin: 5px 20px;\n}\n.new-piskel-title {\n font-size: 20px;\n font-weight: normal;\n margin: 0;\n color: var(--words-color);\n}\n.create-sprite {\n  text-decoration: none;\n  font-size: 13px;\n  border-radius: 2px;\n  border: none;\n  font-weight: bold;\n  color: #000000;\n  background-color: var(--active-color);\n  padding: 5px 10px;\n  margin: 5px 20px;\n}\n.create-sprite:hover {\n  background-color: var(--static-color);\n}\n/*MAIN*/\n.main {\n  margin-top: 10px;\n  position: relative;\n  height: var(--height-canvas);\n\tdisplay: grid;\n\tgrid-template-columns: 100px 152px auto 264px 48px;\n\tgrid-template-rows: auto;\n  grid-gap: 10px;\n  background-color: var(--main-background);\n}\n\n.toolbar__nav {\n  width: 100%;\n  margin: 5px auto;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n\tposition: relative;\n}\n\n.tool {\n  width: 48px;\n  height: 48px;\n  list-style: none;\n  margin: 1px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #3A3A3A;\n  box-sizing: border-box;\n}\n\n.tool:hover {\n  background: #444444;\n}\n\n.tool-active {\n  border: 3px solid var(--active-color);\n}\n\n/* Choose color */\n.toolbar-color {\n\tmargin-top: 10px;\n  position: relative;\n}\n\n.primary-color,\n.secondary-color  {\n\twidth: 48px;\n\theight: 48px;\n\tborder: 4px solid #444444;\n\tposition: absolute;\n}\n\n.primary-color {\n  top: 0;\n\tleft: 10px;\n  z-index: 2;\n  background-color: #000000;\n}\n\n.secondary-color {\n\ttop: 22px;\n\tleft: 34px;\n  z-index: 1;\n  background-color: #ffffff;\n}\n\n.primary-color:hover,\n.secondary-color:hover {\n  border-color: #777777;\n  cursor: pointer;\n}\n\n.swap-colors {\n  position: absolute;\n  top: 51px;\n  left: 11px;\n  cursor: pointer;\n}\n\n.choose-color {\n  display: none;\n  border-radius: 10px;\n  cursor: pointer;\n}\n.choose-color-active{\n  display: block;\n}\n\n.icon {\n\tcursor: pointer;\n\ttransition: all 0.5s ease;\n}\n/* Keyboard popup  */\n.keyboard {\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  opacity: 0.8;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.popup-shortcuts {\n  display: none;\n  position: absolute;\n  top: 15%;\n  left: 11%;\n  width: calc(100vw * 0.75);\n  height: var(--height-popup);\n  border: 5px solid #FFD700;\n  border-radius: 4px;\n  background-color: #070707;\n  z-index: 5;\n}\n\n.popup-shortcuts__active {\n  display: block;\n}\n.shortcuts-block-title{\n  position: relative;\n  width: 100%;\n  height: 40px;\n  background-color: #FFD700;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.shortcuts-close {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 30px;\n  height: 40px;\n  width: 40px;\n  transition: all 0.3s;\n}\n\n.shortcuts-close:hover {\n  background-color: #ff0000;\n  cursor:pointer;\n}\n\n.shortcuts-commands-wrapper{\n  display: flex;\n  height: calc(var(--height-popup) - 50px);\n  justify-content: space-around;\n  overflow-y: scroll;\n}\n\n.shortcuts-commands-wrapper::-webkit-scrollbar {\n\twidth: 5px;\n}\n  /* Track */\n.shortcuts-commands-wrapper::-webkit-scrollbar-track {\n\tbackground: #C4C4C4;\n}\n  /* Handle */\n.shortcuts-commands-wrapper::-webkit-scrollbar-thumb {\n\tbackground: #888;\n}\n  /* Handle on hover */\n.shortcuts-commands-wrapper::-webkit-scrollbar-thumb:hover {\n\tbackground: #555;\n}\n\n.shortcuts-commands {\n  color: #ffffff;\n  display: flex;\n  justify-content: center;\n}\n\n.tools-shortcuts__nav,\n.fullscreen-shortcuts__nav {\n  padding: 0;\n  margin: 10px;\n}\n\n.tool-command,\n.fullscreen-command{\n  list-style: none;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px;\n}\n\n.shortcut {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 15px;\n  min-width: 30px;\n  min-height: 30px;\n  color: var(--active-color);\n  border: 2px solid var(--active-color);\n  transition: all 0.3s;\n  cursor: pointer;\n}\n.tools-shortcuts,\n.fullscreen-shortcuts {\n margin: 10px 20px;\n}\n\n\n.shortcut-change {\n  background: var(--active-color);\n  font-weight: bold;\n  color: #ff0000;\n  transition: all 0.3s;\n}\n\n.tools-shortcuts__title,\n.fullscreen-shortcuts__title {\n  margin: 0;\n  padding: 10px;\n}\n\n\n/* FRAMEBAR */\n\n.framebar::-webkit-scrollbar {\n\twidth: 5px;\n}\n  /* Track */\n.framebar::-webkit-scrollbar-track {\n\tbackground: #C4C4C4;\n}\n  /* Handle */\n.framebar::-webkit-scrollbar-thumb {\n\tbackground: #888;\n}\n  /* Handle on hover */\n.framebar::-webkit-scrollbar-thumb:hover {\n\tbackground: #555;\n}\n\n.framebar__nav {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n}\n\n/* Frame */\n.frame-layer {\n  width: 134px;\n  height: 134px;\n  position: relative;\n  border-radius: 3px;\n  border: 3px dashed var(--active-color);\n  margin: 8px auto 24px auto;\n  list-style: none;\n}\n\n.framebar-window {\n\twidth: 134px;\n\theight: 134px;\n\tborder-radius: 3px;\n\tborder: 3px solid var(--static-color);\n\tbox-shadow: 1px 2px 2px var(--static-color);\n  background: url("+o+");\n  position: absolute;\n  top: -3px;\n  left: -3px;\n\tcursor: pointer;\n}\n\n.framebar-canvas {\n\twidth: 128px;\n\theight: 128px;\n\tposition: relative;\n}\n\n.framebar-active {\n\tborder: 3px solid var(--active-color);\n}\n\n.framebar-window__number,\n.framebar-window__delete,\n.framebar-window__drag,\n.framebar-window__dublicate {\n\twidth: 27px;\n\theight: 27px;\n\tbackground-color: #7C7C7C;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tz-index: 4;\n\tcursor: pointer;\n}\n\n.framebar-window__number {\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: #FFD700;\n}\n\n.framebar-window__delete {\n\ttop: 0;\n\tright: 0;\n}\n\n.hint {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-align: center;\n\tposition: absolute;\n\tpadding: 5px;\n\twidth: 87px;\n\theight: 27px;\n\ttop: 0;\n\tleft: 31px;\n\tfont-size: 10px;\n\tbackground-color: #000;\n\tcolor: white;\n\tborder-radius: 4px;\n  visibility: hidden;\n  z-index: 5;\n}\n\n.framebar-window__delete:hover > .hint,\n.framebar-window__dublicate:hover > .hint{\n  visibility: visible;\n}\n\n.framebar-window__drag {\n\tbottom: 0;\n  left: 0;\n}\n\n.framebar-window__dublicate {\n\tbottom: 0;\n\tright: 0;\n}\n\n.frame-icon {\n\tdisplay: none;\n}\n\n.framebar-window:hover .frame-icon {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.framebar-canvas {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.add-icon,\n.add-text {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tfont-size: 12px;\n}\n\n.framebar-window__add {\n\twidth: 104px;\n\theight: 48px;\n\tmargin: 0 auto;\n\tborder-radius: 4px;\n\tcolor:#888888;\n\tbackground-color: #222222;\n\tborder: 3px solid var(--static-color);\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-sizing: border-box;\n}\n\n.framebar-window__add:hover {\n\tcursor: pointer;\n\tborder: 3px solid#FFD700;\n}\n\n.add-icon {\n\twidth: 50px;\n\tposition: relative;\n}\n\n.add-icon::before,\n.add-icon::after {\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n\ttop: calc(50% - 2px);\n\tleft: 4px;\n\tbackground-color: #FFFFFF;\n\twidth: 22px;\n\theight: 4px;\n}\n\n.add-icon::after {\n\ttransform: rotate(90deg);\n}\n/* MAIN CANVAS */\n.main-rectangle {\n  margin: 0;\n\tbackground: #A0A0A0;\n\tdisplay: flex;\n\tjustify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n\n.wrapper-canvas {\n  position: relative;\n\twidth: 384px;\n\theight: 384px;\n}\n\n#main-canvas {\n  display: block;\n\twidth: 384px;\n\theight: 384px;\n  margin: 0 auto;\n  background-color: transparent;\n  background-image: url("+o+");\n}\n\n.pixel {\n\tdisplay: none;\n  position: absolute;\n\tbackground-color: #7a7a7a;\n\tz-index: 3;\n}\n\n.active-pixel {\n\tdisplay: block;\n}\n\n/* ANIMATE CANVAS */\n.animate-bar {\n  width: 256px;\n}\n.small-rectangle{\n\theight: 304px;\n}\n\n#animate-canvas {\n\tdisplay: block;\n\twidth: 256px;\n\theight: 256px;\n\tmargin: 0 auto;\n  background: url("+o+");\n}\n/* FPS */\n.footer-fps {\n  background-color:#333333;\n  color:#AAAAAA;\n  height: 50px;\n}\n\n.fullscreen {\n  border: none;\n  background-color: #007ACC;\n  border-radius: 4px;\n  display: block;\n  padding: 5px 10px;\n  cursor: pointer;\n  margin: 0 auto;\n}\n\n.wrapper-input {\n\t width: 100%;\n\t display: flex;\n\t align-items: center;\n\t justify-content: space-around;\n}\n\n.amount-of-FPS{\n\twidth: 20px;\n\ttext-align: center;\n\tdisplay: inline-block;\n}\n\n.sidebar-header{\n  background-color:#FFD700;\n}\n\n.sidebar {\n  width: 100%;\n  height: 80px;\n  border: 2px solid #888888;\n  border-radius: 2px;\n  margin-top: 5px;\n}\n\n.preferences {\n  position: relative;\n}\n\n.preferences-nav{\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 48px;\n}\n\n.nav-menu {\n  position: absolute;\n  width: 100%;\n  top:0;\n  left: 0;\n  z-index: 2;\n}\n\n.preferences-tool{\n  position: relative;\n  cursor: pointer;\n}\n\n.preference-hint {\n  display: none;\n  position: absolute;\n  text-align: center;\n  top: 0;\n  left: -105px;\n  width: 100px;\n  height: 48px;\n  background-color: #000000;\n  z-index: 5;\n}\n\n.preference-hint p {\n  color: #fff;\n  font-size: 12px;\n  margin: 2px;\n}\n\n.preference-title {\n  font-size: 16px;\n  font-weight: normal;\n  margin: 0;\n  color: var(--active-color);\n}\n\n.preferences-tool:hover > .preference-hint{\n  display: block;\n}\n\n.popup-preferences__export {\n  display: none;\n  position: absolute;\n  left: 48px;\n  top: 0;\n  width: 220px;\n  height: 300px;\n  border: 3px solid var(--active-color);\n  border-radius: 4px;\n  background: #333;\n  z-index: 5;\n}\n\n.exports-title {\n  font-weight: normal;\n  background-color: var(--active-color);\n  padding: 5px;\n  margin: 0;\n  border-bottom: 2px solid var(--active-color);\n}\n\n.export-formats__nav {\n  padding: 10px 0;\n  margin: 0;\n  display: flex;\n  justify-content: space-between;\n  background-color: #000000;\n}\n\n.format {\n  padding: 3px;\n  font-weight: bold;\n  list-style: none;\n  background-color: #007ACC;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.format:hover {\n  opacity: 0.7;\n}\n\n.active-format {\n  background-color: #5500ff;\n  color: #fff;\n}\n\n.export-form {\n  width: 90%;\n  margin: 0 auto;\n  margin-top: 20px;\n}\n\n.export-size-wrapper {\n  margin-bottom: 10px;\n}\n\n.export-size__title {\n  margin: 5px 0;\n  color: #ffffff;\n  font-size: 14px;\n}\n\n.export-size__nav{\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: space-between;\n}\n\n.export-size {\n  border-radius: 4px;\n  border: none;\n  list-style: none;\n  padding: 4px 6px;\n  font-weight: bold;\n  background-color: var(--active-color);\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.export-size:hover {\n  opacity: 0.7;\n}\n\n.export-size-active {\n  background-color: #000000;\n  color: var(--active-color);\n}\n\n.label-title {\n  color: #fff;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.inp-format-title {\n  border: none;\n  outline: none;\n  width: 100%;\n  margin: 10px auto;\n  border-radius: 4px;\n  display: block;\n  padding: 5px 5px;\n}\n\n.export-download {\n  border: none;\n  outline: none;\n  background-color: var(--active-color);\n  cursor: pointer;\n  border-radius: 4px;\n  padding: 5px 10px;\n  cursor: pointer;\n  display: block;\n  margin: 10px auto;\n}\n\n.export-upload {\n  border: none;\n  outline: none;\n  background-color: var(--active-color);\n  cursor: pointer;\n  border-radius: 4px;\n  padding: 5px 10px;\n  cursor: pointer;\n  display: block;\n  margin: 0 auto;\n}\n\n.active-preferences-nav{\n  transition: left 0.5s;\n  left: -220px;\n}\n\n.active-popup-export {\n  display: block;\n  left: -172px;\n}\n\n.transform {\n  overflow: hidden;\n}\n\n.sidebar-header__title {\n  margin: 0px;\n  padding: 5px;\n}\n\n.wrapper-btn-resolution {\n  display: flex;\n  height: 47px;\n  align-items: center;\n  justify-content: space-around;\n}\n\n.resolution {\n  border: 2px solid #FFD700;\n  outline: none;\n  color: #FFD700;\n  background-color: #222222;\n  padding: 5px 5px;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n}\n\n.resolution:hover {\n  background-color: #3A3A3A;\n}\n\n.preferences-nav{\n  padding: 0;\n  margin: 0;\n}\n\n.preferences-tool {\n  list-style: none;\n  margin: 2px;\n  background-color: #3A3A3A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.data-canvas {\n text-align: center;\n height: 40px;\n}\n\n.data-head {\n  color: #fff;\n  font-size: 14px;\n  background-color: #4c4c4c;\n}\n\n.data-body {\n  font-size: 14px;\n  color: #FFD700;\n}\n\n/* cursor */\n.pen-cursor {\n\tcursor: url("+i+") 0 15, default;\n}\n.mirror-pen-cursor {\n  cursor: url("+a+") 0 20, default;\n}\n.paint-bucket-cursor {\n  cursor: url("+s+") 20 0, default;\n}\n.colorswap-cursor {\n  cursor: url("+s+"), default;\n}\n.eraser-cursor {\n  cursor: url("+l+") 0 20, default;\n}\n.stroke-cursor {\n  cursor: url("+c+") 0 20, default;\n}\n.lighten-cursor {\n  cursor: url("+d+") 0 20, default;\n}\n.dithering-cursor {\n  cursor: url("+u+") 0 20, default;\n}\n.color-picker-cursor {\n  cursor: url("+p+") 0 20, default;\n}\n\n",""])},function(t,e){t.exports="./src/start/assets/img/bg-dark.png"},function(t,e){t.exports="./src/start/assets/img/pen.png"},function(t,e){t.exports="./src/start/assets/img/mirror-pen.png"},function(t,e){t.exports="./src/start/assets/img/paint-bucket.png"},function(t,e){t.exports="./src/start/assets/img/eraser.png"},function(t,e){t.exports="./src/start/assets/img/stroke.png"},function(t,e){t.exports="./src/start/assets/img/lighten.png"},function(t,e){t.exports="./src/start/assets/img/dither.png"},function(t,e){t.exports="./src/start/assets/img/dropper.png"},,,function(t,e,n){"use strict";function r(t,e,n,r,o,i){let s,l,c,d,u,p,h,f,m,g,v;const b=new a;if(c=n-t,d=r-e,u=Math.abs(c),h=2*(p=Math.abs(d))-u,f=2*u-p,p<=u)for(c>=0?(s=t,l=e,m=n):(s=n,l=r,m=t),b.pixel(s,l,i),v=0;s<m;v+=1)s+=o,h<0?h+=2*p:(c<0&&d<0||c>0&&d>0?l+=o:l-=o,h+=2*(p-u)),b.pixel(s,l,i);else for(d>=0?(s=t,l=e,g=r):(s=n,l=r,g=e),b.pixel(s,l,i),v=0;l<g;v+=1)l+=o,f<=0?f+=2*u:(c<0&&d<0||c>0&&d>0?s+=o:s-=o,f+=2*(u-p)),b.pixel(s,l,i)}function o(){const t=getComputedStyle(document.querySelector(".primary-color")).backgroundColor;let e="";for(let n=4;n<t.length-1;n+=1)","!==t[n]&&(e+=t[n]);return e.split(" ")}n.r(e);class i{constructor(){this.colorLayer=null,this.startR=null,this.startG=null,this.startB=null,this.alfa=null,this.fillColorR=null,this.fillColorG=null,this.fillColorB=null}dataForBucket(t,e,n,r,i){const a=o();this.startR=n[0],this.startG=n[1],this.startB=n[2],this.alfa=n[3],this.tool=i,this.fillColorR=+a[0],this.fillColorG=+a[1],this.fillColorB=+a[2],this.colorLayer=r,"paint-bucket"===this.tool?this.bucket(t,e):this.bucketAllPixels(r)}bucket(t,e){const n=document.getElementById("main-canvas"),r=n.getContext("2d");let o=[[t,e]];for(;o.length;){let t,e,r,i,a,s;for(e=(t=o.pop())[0],i=4*((r=t[1])*n.width+e);r-- >=0&&this.matchStartColor(i);)i-=4*n.width;for(i+=4*n.width,++r,a=!1,s=!1;r++<n.width-1&&this.matchStartColor(i);)this.colorPixel(i),e>0&&(this.matchStartColor(i-4)?a||(o.push([e-1,r]),a=!0):a&&(a=!1)),e<n.width-1&&(this.matchStartColor(i+4)?s||(o.push([e+1,r]),s=!0):s&&(s=!1)),i+=4*n.width}r.putImageData(this.colorLayer,0,0)}bucketAllPixels(t){const e=document.querySelector("#main-canvas"),n=e.getContext("2d"),r=document.querySelector(".framebar-active").getAttribute("data-frame-number"),o=document.querySelectorAll(".framebar-canvas")[r],i=o.getContext("2d"),a=e.width/o.width,s=e.height/o.height;let l,c,d,u;for(let r=0;r<t.data.length;r+=4)l=Math.floor(r/4%e.width),c=Math.floor(r/4/e.width),d=Math.floor(r/4%e.width/a),u=Math.floor(r/4/e.width/s),this.startR=t.data[r],this.startG=t.data[r+1],this.startB=t.data[r+2],this.alfa=t.data[r+3],0!==this.startR||0!==this.startG||0!==this.startB||0!==this.alfa?(n.beginPath(),n.fillStyle=`rgba(${this.startR}, ${this.startG},${this.startB},${this.alfa})`,n.fillRect(l,c,1,1),i.beginPath(),i.fillStyle=`rgba(${this.startR}, ${this.startG},${this.startB},${this.alfa})`,i.fillRect(d,u,1,1)):(this.startR=this.fillColorR,this.startG=this.fillColorG,this.startB=this.fillColorB,this.alfa=255,n.beginPath(),n.fillStyle=`rgba(${this.startR}, ${this.startG}, ${this.startB}, ${this.alfa})`,n.fillRect(l,c,1,1),i.beginPath(),i.fillStyle=`rgba(${this.startR}, ${this.startG}, ${this.startB}, ${this.alfa})`,i.fillRect(d,u,1,1))}matchStartColor(t){let e,n,r,o;return e=this.colorLayer.data[t],n=this.colorLayer.data[t+1],r=this.colorLayer.data[t+2],o=this.colorLayer.data[t+3],e===this.startR&&n===this.startG&&r===this.startB&&o===this.alfa}colorPixel(t){this.colorLayer.data[t]=this.fillColorR,this.colorLayer.data[t+1]=this.fillColorG,this.colorLayer.data[t+2]=this.fillColorB,this.colorLayer.data[t+3]=255}}class a{pixel(t,e,n){const r=document.querySelector("#main-canvas"),o=r.width,i=r.getContext("2d"),a=document.querySelector(".pixel"),s=parseInt(getComputedStyle(a).width),l=getComputedStyle(document.querySelector(".primary-color")).backgroundColor;if(i.fillStyle=l,i.beginPath(),"pen"===n.tool&&i.fillRect(t,e,s,s),"mirror-pen"===n.tool){let n=o-s-t;i.fillRect(t,e,s,s),i.fillRect(n,e,s,s)}"stroke"===n.tool&&("mousedown"===n.event?i.fillRect(n.staticX,n.staticY,s,s):(i.fillRect(t,e,s,s),n.strokeData.push({x:t,y:e,widthOfPixel:s})))}render(t){const e=document.querySelector("#main-canvas"),n=e.getContext("2d"),a=n.getImageData(0,0,e.width,e.height);"eraser"===t.tool&&function(t,e,n){const r=document.querySelector("#main-canvas"),o=document.querySelector(".framebar-active").getAttribute("data-frame-number"),i=document.querySelectorAll(".framebar-canvas")[o],a=r.getContext("2d"),s=i.getContext("2d"),l=r.width/i.width,c=r.height/i.height,d=n/l;a.clearRect(t,e,n,n),s.clearRect(t/l,e/c,d,d)}(t.x,t.y,t.pixelData.width),"paint-bucket"!==t.tool&&"colorswap"!==t.tool||(new i).dataForBucket(t.x,t.y,t.pixelData.data,a,t.tool),"color-picker"===t.tool&&function(t,e){const n=document.getElementById("main-canvas").getContext("2d"),r=document.querySelector(".primary-color"),o=n.getImageData(t,e,1,1),[i,a,s,l]=o.data;0===i&&0===a&&0===s&&0===l||(r.style.backgroundColor=`rgba(${i}, ${a}, ${s}, ${l})`)}(t.x,t.y),"lighten"===t.tool&&function(t,e,n,r,o){const i=document.getElementById("main-canvas").getContext("2d"),a=i.getImageData(t,e,1,1);if(t+o>n&&e+o>r){let[n,r,s,l]=a.data;n<256&&r<256&&s<256&&(n+=10,r+=10,s+=10),i.fillStyle=`rgba(${n}, ${r}, ${s}, ${l})`,i.clearRect(t,e,o,o),i.fillRect(t,e,o,o)}}(t.x,t.y,t.absoluteX,t.absoluteY,t.pixelData.width),"dithering"===t.tool&&function(t,e,n){const r=document.getElementById("main-canvas").getContext("2d"),[i,a,s]=o(),l=t/n,c=e/n;r.fillStyle=`rgba(${i}, ${a}, ${s}, 255)`,l%2==0&&c%2==0?r.fillRect(t,e,n,n):l%2==1&&c%2==1&&r.fillRect(t,e,n,n)}(t.x,t.y,t.pixelData.width),"stroke"===t.tool&&(n.clearRect(0,0,e.width,e.height),r(t.staticX,t.staticY,t.x1,t.y1,t.pixelData.width,t),n.putImageData(t.canvasData,0,0),t.strokeData.forEach(t=>{n.fillRect(t.x,t.y,t.widthOfPixel,t.widthOfPixel)}),t.strokeData=[]),"pen"!==t.tool&&"mirror-pen"!==t.tool||("mousedown"===t.event?this.pixel(t.x,t.y,t):r(t.x,t.y,t.x1,t.y1,t.pixelData.width,t))}}function s(t,e){const n=e.getContext("2d"),r=t.getContext("2d"),o=t.width/e.width,i=t.height/e.height,a=r.getImageData(0,0,t.width,t.height);let s,l,c,d,u,p;for(let e=0;e<a.data.length;e+=4)u=Math.floor(e/4%t.width/o),p=i>1?Math.floor(e/4/t.width/i):1*Math.floor(e/4/t.height)/i,s=a.data[e],l=a.data[e+1],c=a.data[e+2],d=a.data[e+3],n.beginPath(),0===s&&0===l&&0===c&&0===d?o>1?n.clearRect(u,p,1,1):n.clearRect(u,p,1/o,1/i):(n.fillStyle=`rgba(${s}, ${l}, ${c}, ${d})`,o>1?n.fillRect(u,p,1,1):n.fillRect(u,p,1/o,1/i));return e}function l(){const t=document.querySelector(".wrapper-canvas"),e=document.getElementById("main-canvas"),n=e.getContext("2d"),r=document.querySelector(".pixel"),o=document.querySelector(".coord"),i=e.width;let l,c,d,u,p,h,f,m,g,v,b=document.querySelector(".active-resolution").getAttribute("data-size"),y=+b,x=i/y,w={x:l,y:c,x1:d,y1:u,absoluteX:f,absoluteY:m,staticX:g,staticY:v,tool:null,pixelData:null,canvasData:null,strokeData:null};const k=new a;let L=!1;r.style.width=`${x}px`,r.style.height=`${x}px`,t.addEventListener("mousedown",t=>{const o=document.querySelector(".tool-active");b=document.querySelector(".active-resolution").getAttribute("data-size"),x=i/(y=+b),L=!0,r.classList.remove("active-pixel"),l=Math.floor(t.layerX/x)*x,c=Math.floor(t.layerY/x)*x,g=Math.floor(t.layerX/x)*x,v=Math.floor(t.layerY/x)*x,w.x=l,w.y=c,w.staticX=g,w.staticY=v,w.pixelData=n.getImageData(l,c,x,x),w.canvasData=n.getImageData(0,0,e.width,e.height),w.strokeData=[],w.tool=o.firstElementChild.id,w.event="mousedown",k.render(w)}),e.addEventListener("mouseleave",()=>{r.classList.remove("active-pixel")}),t.addEventListener("mousemove",t=>{t.target.classList.contains("pixel")||(d=Math.floor(t.layerX/x)*x,u=Math.floor(t.layerY/x)*x,p=d/x,h=u/x,f=t.layerX,m=t.layerY,o.innerHTML=`${p}:${h}`),t.target.classList.contains("pixel")&&(f+=t.layerX,m+=t.layerY),L?(r.classList.remove("active-pixel"),w.x1=d,w.y1=u,w.absoluteX=f,w.absoluteY=m,w.event="mousemove",w.pixelData=n.getImageData(d,u,x,x),k.render(w),l=d,c=u,w.x=d,w.y=u):(r.classList.add("active-pixel"),r.style.top=`${u}px`,r.style.left=`${d}px`)}),t.addEventListener("mouseup",()=>{L=!1;const t=document.querySelector(".framebar-active").getAttribute("data-frame-number"),n=document.querySelectorAll(".framebar-canvas")[t];s(e,n),r.classList.add("active-pixel")})}function c(){const t=document.querySelector(".keyboard"),e=document.querySelector(".shortcuts-close");t.addEventListener("click",()=>{document.querySelector(".popup-shortcuts").classList.toggle("popup-shortcuts__active"),document.querySelector(".active-shortcut")&&document.querySelector(".active-shortcut").classList.remove("active-shortcut")}),e.addEventListener("click",()=>{document.querySelector(".popup-shortcuts").classList.remove("popup-shortcuts__active"),document.querySelector(".active-shortcut")&&document.querySelector(".active-shortcut").classList.remove("active-shortcut")}),document.addEventListener("keydown",t=>{const e=document.querySelector(".tool-active"),n=document.querySelector(".popup-preferences__export");["p","m","b","c","e","s","l","d","t"].includes(t.key.toLowerCase())&&!n.classList.contains("active-popup-export")&&(e.classList.remove("tool-active"),function(t,e){const n=document.querySelector(".main-rectangle"),r=document.querySelector(`[data-tool=${t}]`),o=r.firstElementChild.id,i=`${e.firstElementChild.id}-cursor`,a=`${o}-cursor`;e.classList.remove("tool-active"),r.classList.add("tool-active"),n.classList.remove(i),n.classList.add(a)}(t.key.toLowerCase(),e))})}function d(t){let e=document.querySelector(".framebar-active").firstElementChild,n=document.getElementById("main-canvas");document.querySelector(".framebar__nav").addEventListener("click",r=>{let{target:o}=r;if(o.parentNode.classList.contains("framebar-window")){const t=document.querySelectorAll(".framebar-window");Array.from(t).map(t=>{t.classList.contains("framebar-active")&&t.classList.remove("framebar-active")});const o=r.target.parentNode.getAttribute("data-frame-number");t[o].classList.add("framebar-active"),e=t[o].firstElementChild,n.getContext("2d").clearRect(0,0,n.width,n.height),s(e,n)}if(o.classList.contains("delete")||o.classList.contains("dublicate")){let e=o;for(;!o.classList.contains("framebar-window");)o=o.parentNode;n.getContext("2d").clearRect(0,0,n.width,n.height),e.classList.contains("delete")?function(t,e){const n=document.querySelectorAll(".framebar-window"),r=document.querySelectorAll(".frame-layer"),o=document.getElementById("main-canvas"),i=document.querySelector(".framebar__nav"),a=document.querySelector(".active-frames"),l=document.querySelector(".framebar");let c=document.querySelector(".framebar-active").firstElementChild,d=r.length,u=0;for(let a=0;a<d;a+=1){if(1===d){s(c,o);break}n[a].classList.contains("framebar-active")&&n[a].classList.remove("framebar-active"),a===t&&0===u&&(i.removeChild(r[t]),i.lastElementChild.children[0].classList.add("framebar-active"),c=document.querySelector(".framebar-active").firstElementChild,u+=1,d-=1,a=0),e.numberOfFrame=a+1,e.dataNumberOfFrame=a,document.querySelectorAll(".framebar-window__number")[a].innerHTML=e.numberOfFrame,document.querySelectorAll(".framebar-window")[a].setAttribute("data-frame-number",e.dataNumberOfFrame)}i.clientHeight<window.innerHeight&&(l.style.overflow="visible"),document.querySelectorAll(".framebar-window")[document.querySelectorAll(".framebar-window").length-1].classList.add("framebar-active"),a.innerHTML=e.numberOfFrame,s(c,o)}(+o.getAttribute("data-frame-number"),t):e.classList.contains("dublicate")&&function(t,e,n){const r=document.querySelectorAll(".framebar-window"),o=document.querySelector(".framebar"),i=document.querySelectorAll(".frame-layer"),a=document.getElementById("main-canvas"),l=document.querySelector(".framebar__nav"),c=document.querySelector(".active-frames"),d=document.querySelectorAll(".framebar-canvas")[e],u=d.getContext("2d").getImageData(0,0,d.width,d.height);let p,h,f,m=i.length,g=0;for(let t=0;t<m;t+=1)r[t].classList.contains("framebar-active")&&r[t].classList.remove("framebar-active");for(let r=0;r<=m;r+=1)r===e&&0===g&&(t.classList.remove("framebar-active"),(f=(h=(p=i[e].cloneNode(!0)).firstElementChild.children[0]).getContext("2d")).putImageData(u,0,0),p.firstElementChild.classList.add("framebar-active"),e===m-1?l.appendChild(p):l.insertBefore(p,i[e+1]),g+=1,r=0),n.numberOfFrame=r+1,n.dataNumberOfFrame=r,document.querySelectorAll(".framebar-window__number")[r].innerHTML=n.numberOfFrame,document.querySelectorAll(".framebar-window")[r].setAttribute("data-frame-number",n.dataNumberOfFrame);c.innerHTML=n.numberOfFrame,l.clientHeight>window.innerHeight-100&&(o.style.overflow="scroll"),s(h,a)}(o,+o.getAttribute("data-frame-number"),t)}})}function u(){const t={numberOfFrame:1,dataNumberOfFrame:0};d(t),function(t){const e=document.querySelector(".framebar-window__add"),n=document.querySelector(".framebar__nav"),r=document.querySelector(".framebar"),o=document.getElementById("main-canvas"),i=document.querySelector(".active-frames"),a=o.getContext("2d");e.addEventListener("click",()=>{const e=document.querySelectorAll(".framebar-window"),s=document.querySelector(".framebar-active");for(let t=0;t<e.length;t+=1)e[t].classList.contains("framebar-active")&&e[t].classList.remove("framebar-active");t.numberOfFrame+=1,t.dataNumberOfFrame+=1;const l=document.createElement("li"),c=s.cloneNode(!0);l.setAttribute("class","frame-layer"),c.classList.add("framebar-active"),c.setAttribute("data-frame-number",t.dataNumberOfFrame),c.children[0].setAttribute("data-frame-number",t.dataNumberOfFrame),c.children[1].innerHTML=t.numberOfFrame,l.appendChild(c),n.appendChild(l),a.clearRect(0,0,o.width,o.height),n.clientHeight>window.innerHeight-100&&(r.style.overflow="scroll"),i.innerHTML=t.numberOfFrame})}(t)}var p=n(11),h=n.n(p);function f(t){const e=document.createElement("canvas"),n=document.querySelector(".export-size-active").getAttribute("data-size");return e.width=t.width*parseInt(n),e.height=t.height*parseInt(n),s(t,e)}function m(t){const e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height);let r,o,i,a,s,l;for(let c=0;c<n.data.length;c+=4)s=Math.floor(c/4%t.width),l=Math.floor(c/4/t.height),r=n.data[c],o=n.data[c+1],i=n.data[c+2],a=n.data[c+3],0==r&&0==o&&0==i&&0==a&&(r=255,o=255,i=255,a=255,e.beginPath(),e.fillStyle=`rgba(${r}, ${o}, ${i}, ${a})`,e.fillRect(s,l,1,1));return t}class g{png(){const t=document.querySelector(".framebar-active").firstElementChild,e=document.querySelector(".inp-format-title");let n=f(t).toDataURL("image/png",1),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=`${e.value}.png`,r.click(),e.value="",document.body.removeChild(r)}jpeg(){const t=document.querySelector(".inp-format-title");let e=f(document.querySelector(".framebar-active").firstElementChild);(e=m(e)).toBlob(function(e){let n=URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=`${t.value}.jpeg`,r.click(),t.value="",document.body.removeChild(r)},"image/jpeg",1)}gif(){const t=document.querySelectorAll(".framebar-canvas"),e=document.querySelector(".amount-of-FPS").innerHTML,n=document.querySelector(".inp-format-title");let r=new h.a({workers:2,quality:10,workerScript:"./gif.worker.js"});t.forEach(t=>{let n=f(t);n=m(n),r.addFrame(n,{delay:1e3/+e})}),r.on("finished",function(t){let e=URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=e,r.download=`${n.value}.gif`,r.click(),n.value="",document.body.removeChild(r)}),r.render()}}function v(){const t=document.querySelector(".range");let e,n=0;t.addEventListener("input",()=>{const r=t.value;document.querySelector(".amount-of-FPS").innerHTML=r,clearTimeout(e),function t(r){const o=document.getElementById("animate-canvas"),i=o.getContext("2d"),a=document.querySelectorAll(".framebar-canvas");n===a.length&&(n=0);const l=a[n%a.length];n+=1,i.clearRect(0,0,o.width,o.height),0===r?s(l,o):(s(l,o),e=setTimeout(()=>{t(r)},1e3/r))}(+r)})}function b(){let t;document.querySelector(".toolbar__nav").addEventListener("click",e=>{t=document.querySelector(".tool-active");const{target:n}=e;n.classList.contains("icon")&&(t.classList.remove("tool-active"),n.parentNode.classList.add("tool-active"),t=n.parentNode,function(t){const e=document.querySelector(".main-rectangle"),n=`${t.id}-cursor`;e.classList.remove(e.classList[1]),e.classList.add(n)}(n))})}class y{start(){b(),function(){const t=document.querySelector(".canvas-size"),e=document.querySelector("#main-canvas"),n=document.querySelector(".size"),r=document.querySelector(".pixel");let o,i,a=document.querySelector(".active-resolution");t.addEventListener("click",t=>{t.target.classList.contains("resolution")&&(a.classList.remove("active-resolution"),t.target.classList.add("active-resolution"),i=t.target.getAttribute("data-size"),o=e.width/+t.target.getAttribute("data-size"),r.style.width=`${o}px`,r.style.height=`${o}px`,n.innerHTML=`[${i}x${i}]`,a=t.target,l())})}(),l(),function(){const t=document.querySelector(".toolbar-color"),e=document.querySelector(".primary-color"),n=document.querySelector(".secondary-color"),r=document.querySelector(".choose-color"),o=document.querySelector(".swap-colors");t.addEventListener("click",t=>{(t.target.classList.contains("primary-color")||t.target.classList.contains("secondary-color"))&&(t.target.classList.add("active-color"),r.click())}),r.addEventListener("change",()=>{document.querySelector(".active-color").style.backgroundColor=r.value,document.querySelector(".active-color").classList.remove("active-color")}),o.addEventListener("click",()=>{const t=getComputedStyle(e).backgroundColor,r=getComputedStyle(n).backgroundColor;n.style.backgroundColor=t,e.style.backgroundColor=r})}(),c(),function(){const t=document.querySelector(".tools-shortcuts__nav"),e=document.querySelectorAll(".tool");let n,r;const o=Array.from(e).map(t=>t.getAttribute("data-tool"));t.addEventListener("click",t=>{t.target.classList.contains("shortcut")&&(clearInterval(r),void 0!==n&&(n.classList.remove("shortcut-change"),n.classList.remove("active-shortcut")),n===t.target?clearInterval(r):(r=setInterval(()=>{t.target.classList.toggle("shortcut-change")},500),t.target.classList.add("active-shortcut")),n=t.target)}),document.addEventListener("keyup",t=>{if(document.querySelector(".active-shortcut")&&o.includes(t.key.toLowerCase())){const e=document.querySelectorAll(".shortcut");for(let n=0;n<e.length;n+=1)e[n].innerText===t.key.toUpperCase()&&(e[n].innerHTML="??")}})}(),function(){const t=document.querySelector(".preferences"),e=document.querySelector(".preferences-nav"),n=document.querySelector(".popup-preferences__export");let r=document.querySelector(".active-format"),o=document.querySelector(".export-size-active"),i=r.getAttribute("data-format");const a=new g;t.addEventListener("click",t=>{const{target:s}=t;s.classList.contains("export")&&(e.classList.toggle("active-preferences-nav"),n.classList.toggle("active-popup-export")),s.classList.contains("format")&&(r.classList.remove("active-format"),s.classList.add("active-format"),i=(r=s).getAttribute("data-format")),s.classList.contains("export-size")&&(o.classList.remove("export-size-active"),s.classList.add("export-size-active"),o=s),s.classList.contains("export-download")&&a[i]()})}(),u(),v(),function(){const t=document.getElementById("animate-canvas"),e=document.querySelector(".fullscreen");document.addEventListener("keydown",e=>{e.shiftKey&&"f"===e.key.toLowerCase()?t.requestFullscreen():t.exitFullscreen}),e.addEventListener("click",()=>{t.requestFullscreen()})}(),document.getElementById("transform").addEventListener("click",()=>{const t=document.getElementById("main-canvas"),e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height);let r,o,i,a,s,l,c;for(let d=0;d<n.data.length;d+=4)s=Math.floor(d/4%t.width),l=Math.floor(d/4/t.height),r=n.data[d],o=n.data[d+1],i=n.data[d+2],a=n.data[d+3],0===r&&0===o&&0===i&&0===a||(c=t.width-s-1,e.beginPath(),e.fillStyle=`rgba(${r}, ${o}, ${i}, ${a})`,e.clearRect(s,l,1,1),e.fillRect(c,l,1,1))})}}n(15);document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.querySelector(".loading").classList.add("non-active")},1e3),(new y).start()})}]);
//# sourceMappingURL=index.bundle.js.map